# Reids设计抽票系统

这个面试题，学生也并没有描述出具体的抽票系统的规则。目前能想到的抽票场景就是： 银行叫号系统，彩票抽号系统。

因此分别说明一下，两种抽票系统使用Redis的具体的实现。

## 1. 银行的叫号系统

思路： 使用Redis中的string类型数据存储一个初始化值为1的数据，作为初始号码，每一次对其进行自增1的操作

>127.0.0.1:6379> set number 1
>OK
>127.0.0.1:6379> incr number
>(integer) 2
>127.0.0.1:6379>

## 2. 彩票抽号系统

思路：彩票抽号系统，需要从指定的数据中，随机的抽取指定数量的数据。

我们可以使用sortedset集合存储指定数量的号码，然后使用srandmember随机获取指定数量的数据。

>127.0.0.1:6379> sadd myset1 23 45 67 88 99 32 21 34 55 66 78 11 12 14 52
>(integer) 15
>127.0.0.1:6379> srandmember myset1 7
>1) "34"
>2) "78"
>3) "99"
>4) "11"
>5) "21"
>6) "12"
>7) "14"
>127.0.0.1:6379>

